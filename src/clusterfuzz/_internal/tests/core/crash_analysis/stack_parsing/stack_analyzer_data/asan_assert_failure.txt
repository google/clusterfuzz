[2018-05-17 07:01:35.491][1][info][main] source/server/server.cc:203]   transport_sockets.upstream: envoy.transport_sockets.capture,raw_buffer,ssl
[2018-05-17 07:01:35.506][1][critical][assert] source/common/network/address_impl.cc:87] assert failure: ss_len == 0 || ss_len >= offsetof(struct sockaddr_un, sun_path) + 1
AddressSanitizer:DEADLYSIGNAL
=================================================================
==1==ERROR: AddressSanitizer: ABRT on unknown address 0x000000000001 (pc 0x7f7fc7ff6428 bp 0x7ffe6ecd35f0 sp 0x7ffe6ecd32a8 T0)
SCARINESS: 10 (signal)
#0 0x7f7fc7ff6427 in gsignal /build/glibc-Cl5G7W/glibc-2.23/sysdeps/unix/sysv/linux/raise.c:54
#1 0x7f7fc7ff8029 in abort /build/glibc-Cl5G7W/glibc-2.23/stdlib/abort.c:89
#2 0x1fefa77 in Envoy::Network::Address::addressFromSockAddr(sockaddr_storage const&, unsigned int, bool) /proc/self/cwd/source/common/network/address_impl.cc:87:5
#3 0x1fefe18 in Envoy::Network::Address::addressFromFd(int) /proc/self/cwd/source/common/network/address_impl.cc:109:10
#4 0x11fcb3c in Envoy::Network::AddrFailyAwareSocketOptionImpl::setIpSocketOption(Envoy::Network::Socket&, Envoy::Network::Socket::SocketState, std::__1::unique_ptr<Envoy::Network::SocketOptionImpl, std::__1::default_delete<Envoy::Network::SocketOptionImpl> > const&, std::__1::unique_ptr<Envoy::Network::SocketOptionImpl, std::__1::default_delete<Envoy::Network::SocketOptionImpl> > const&) /proc/self/cwd/source/common/network/addr_family_aware_socket_option_impl.cc:31:17
#5 0x6f1410 in Envoy::Network::Socket::applyOptions(std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Network::Socket::Option const>, std::__1::allocator<std::__1::shared_ptr<Envoy::Network::Socket::Option const> > > > const&, Envoy::Network::Socket&, Envoy::Network::Socket::SocketState) /proc/self/cwd/bazel-out/k8-fastbuild/bin/include/envoy/network/_virtual_includes/listen_socket_interface/envoy/network/listen_socket.h:81:20
#6 0x74b155 in Envoy::Network::ClientConnectionImpl::ClientConnectionImpl(Envoy::Event::Dispatcher&, std::__1::shared_ptr<Envoy::Network::Address::Instance const> const&, std::__1::shared_ptr<Envoy::Network::Address::Instance const> const&, std::__1::unique_ptr<Envoy::Network::TransportSocket, std::__1::default_delete<Envoy::Network::TransportSocket> >&&, std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Network::Socket::Option const>, std::__1::allocator<std::__1::shared_ptr<Envoy::Network::Socket::Option const> > > > const&) /proc/self/cwd/source/common/network/connection_impl.cc:538:8
#7 0x736312 in make_unique<Envoy::Network::ClientConnectionImpl, Envoy::Event::DispatcherImpl &, std::__1::shared_ptr<const Envoy::Network::Address::Instance> &, std::__1::shared_ptr<const Envoy::Network::Address::Instance> &, std::__1::unique_ptr<Envoy::Network::TransportSocket, std::__1::default_delete<Envoy::Network::TransportSocket> >, const std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<const Envoy::Network::Socket::Option>, std::__1::allocator<std::__1::shared_ptr<const Envoy::Network::Socket::Option> > > > &> /usr/local/include/c++/v1/memory:3114:32
#8 0x736312 in Envoy::Event::DispatcherImpl::createClientConnection(std::__1::shared_ptr<Envoy::Network::Address::Instance const>, std::__1::shared_ptr<Envoy::Network::Address::Instance const>, std::__1::unique_ptr<Envoy::Network::TransportSocket, std::__1::default_delete<Envoy::Network::TransportSocket> >&&, std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Network::Socket::Option const>, std::__1::allocator<std::__1::shared_ptr<Envoy::Network::Socket::Option const> > > > const&) /proc/self/cwd/source/common/event/dispatcher_impl.cc:89
#9 0x1139ad9 in Envoy::Upstream::HostImpl::createConnection(Envoy::Event::Dispatcher&, Envoy::Upstream::ClusterInfo const&, std::__1::shared_ptr<Envoy::Network::Address::Instance const>, std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Network::Socket::Option const>, std::__1::allocator<std::__1::shared_ptr<Envoy::Network::Socket::Option const> > > > const&) /proc/self/cwd/source/common/upstream/upstream_impl.cc:134:56
#10 0x113a2a7 in Envoy::Upstream::HostImpl::createHealthCheckConnection(Envoy::Event::Dispatcher&) const /proc/self/cwd/source/common/upstream/upstream_impl.cc:112:11
#11 0x113a5af in non-virtual thunk to Envoy::Upstream::HostImpl::createHealthCheckConnection(Envoy::Event::Dispatcher&) const /proc/self/cwd/source/common/upstream/upstream_impl.cc:0
#12 0x11922df in Envoy::Upstream::TcpHealthCheckerImpl::TcpActiveHealthCheckSession::onInterval() /proc/self/cwd/source/common/upstream/health_checker_impl.cc:304:22
#13 0x12e3a38 in Envoy::Upstream::HealthCheckerImplBase::ActiveHealthCheckSession::onIntervalBase() /proc/self/cwd/source/common/upstream/health_checker_base_impl.cc:250:3
#14 0x12e0c79 in Envoy::Upstream::HealthCheckerImplBase::addHosts(std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) /proc/self/cwd/source/common/upstream/health_checker_base_impl.cc:103:29
#15 0x12e0fbf in Envoy::Upstream::HealthCheckerImplBase::onClusterMemberUpdate(std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) /proc/self/cwd/source/common/upstream/health_checker_base_impl.cc:109:3
#16 0x7a4db2 in std::__1::function<void (unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&)>::operator()(unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) const /usr/local/include/c++/v1/functional:1913:12
#17 0x7a4c22 in Envoy::Common::CallbackManager<unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&>::runCallbacks(unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) /proc/self/cwd/bazel-out/k8-fastbuild/bin/source/common/common/_virtual_includes/callback_impl_lib/common/common/callback_impl.h:40:7
#18 0x7a4db2 in std::__1::function<void (unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&)>::operator()(unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) const /usr/local/include/c++/v1/functional:1913:12
#19 0x7a4c22 in Envoy::Common::CallbackManager<unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&>::runCallbacks(unsigned int, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) /proc/self/cwd/bazel-out/k8-fastbuild/bin/source/common/common/_virtual_includes/callback_impl_lib/common/common/callback_impl.h:40:7
#20 0x113bc59 in Envoy::Upstream::HostSetImpl::updateHosts(std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const>, std::__1::shared_ptr<std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const>, std::__1::shared_ptr<Envoy::Upstream::HostsPerLocality const>, std::__1::shared_ptr<Envoy::Upstream::HostsPerLocality const>, std::__1::shared_ptr<std::__1::vector<unsigned int, std::__1::allocator<unsigned int> > const>, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&, std::__1::vector<std::__1::shared_ptr<Envoy::Upstream::Host>, std::__1::allocator<std::__1::shared_ptr<Envoy::Upstream::Host> > > const&) /proc/self/cwd/source/common/upstream/upstream_impl.cc:193:3
#21 0x114de37 in Envoy::Upstream::StaticClusterImpl::startPreInit() /proc/self/cwd/source/common/upstream/upstream_impl.cc:652:18
#22 0x78153f in Envoy::Upstream::ClusterManagerInitHelper::addCluster(Envoy::Upstream::Cluster&) /proc/self/cwd/source/common/upstream/cluster_manager_impl.cc:48:13
#23 0x784458 in Envoy::Upstream::ClusterManagerImpl::ClusterManagerImpl(envoy::config::bootstrap::v2::Bootstrap const&, Envoy::Upstream::ClusterManagerFactory&, Envoy::Stats::Store&, Envoy::ThreadLocal::Instance&, Envoy::Runtime::Loader&, Envoy::Runtime::RandomGenerator&, Envoy::LocalInfo::LocalInfo const&, Envoy::AccessLog::AccessLogManager&, Envoy::Event::Dispatcher&, Envoy::Server::Admin&) /proc/self/cwd/source/common/upstream/cluster_manager_impl.cc:287:18
#24 0x793919 in Envoy::Upstream::ProdClusterManagerFactory::clusterManagerFromProto(envoy::config::bootstrap::v2::Bootstrap const&, Envoy::Stats::Store&, Envoy::ThreadLocal::Instance&, Envoy::Runtime::Loader&, Envoy::Runtime::RandomGenerator&, Envoy::LocalInfo::LocalInfo const&, Envoy::AccessLog::AccessLogManager&, Envoy::Server::Admin&) /proc/self/cwd/source/common/upstream/cluster_manager_impl.cc:941:32
#25 0x1982c9f in Envoy::Server::Configuration::MainImpl::initialize(envoy::config::bootstrap::v2::Bootstrap const&, Envoy::Server::Instance&, Envoy::Upstream::ClusterManagerFactory&) /proc/self/cwd/source/server/configuration_impl.cc:49:46
#26 0x6c218f in Envoy::Server::InstanceImpl::initialize(Envoy::Server::Options&, std::__1::shared_ptr<Envoy::Network::Address::Instance const>, Envoy::Server::ComponentFactory&) /proc/self/cwd/source/server/server.cc:272:16
#27 0x6be506 in Envoy::Server::InstanceImpl::InstanceImpl(Envoy::Server::Options&, std::__1::shared_ptr<Envoy::Network::Address::Instance const>, Envoy::TestHooks&, Envoy::Server::HotRestart&, Envoy::Stats::StoreRoot&, Envoy::Thread::BasicLockable&, Envoy::Server::ComponentFactory&, std::__1::unique_ptr<Envoy::Runtime::RandomGenerator, std::__1::default_delete<Envoy::Runtime::RandomGenerator> >&&, Envoy::ThreadLocal::Instance&) /proc/self/cwd/source/server/server.cc:73:5
#28 0x5fa709 in make_unique<Envoy::Server::InstanceImpl, testing::NiceMock<Envoy::Server::MockOptions> &, std::__1::shared_ptr<Envoy::Network::Address::Ipv4Instance>, Envoy::DefaultTestHooks &, testing::NiceMock<Envoy::Server::MockHotRestart> &, Envoy::Stats::TestIsolatedStoreImpl &, Envoy::Thread::MutexBasicLockable &, Envoy::Server::TestComponentFactory &, std::__1::unique_ptr<Envoy::Runtime::RandomGeneratorImpl, std::__1::default_delete<Envoy::Runtime::RandomGeneratorImpl> >, Envoy::ThreadLocal::InstanceImpl &> /usr/local/include/c++/v1/memory:3114:32
#29 0x5fa709 in Envoy::Server::TestOneProtoInput(envoy::config::bootstrap::v2::Bootstrap const&) /proc/self/cwd/test/server/server_fuzz_test.cc:36
#30 0x5f9e5d in LLVMFuzzerTestOneInput /proc/self/cwd/test/server/server_fuzz_test.cc:18:1
#31 0x258ef6c in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) /src/libfuzzer/FuzzerLoop.cpp:524:13
#32 0x256deba in fuzzer::RunOneTest(fuzzer::Fuzzer*, char const*, unsigned long) /src/libfuzzer/FuzzerDriver.cpp:280:6
#33 0x2579268 in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) /src/libfuzzer/FuzzerDriver.cpp:705:9
#34 0x256d55c in main /src/libfuzzer/FuzzerMain.cpp:20:10
#35 0x7f7fc7fe182f in __libc_start_main /build/glibc-Cl5G7W/glibc-2.23/csu/libc-start.c:291
#36 0x4e9428 in _start
AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: ABRT (/lib/x86_64-linux-gnu/libc.so.6+0x35427)
==1==ABORTING
